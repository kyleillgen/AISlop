<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8" />
  <title>Cat vs Cucumber</title>
  <style>
    canvas { background: #eef; display: block; margin: 0 auto; }
  </style>
</head>
<body>
<canvas id="game" width="400" height="400"></canvas>
<script>
const canvas = document.getElementById('game');
const ctx = canvas.getContext('2d');
const player = {x:200, y:200, size:20, color:'pink', speed:2};
const enemy = {x:50, y:50, size:20, color:'green', speed:1.5};
let keys = {};
let sprintTimer = 0;

document.addEventListener('keydown', e => {
  if (['ArrowUp', 'ArrowDown', 'ArrowLeft', 'ArrowRight'].includes(e.key)) e.preventDefault();
  keys[e.key] = true;
  if (e.key === 's' && sprintTimer === 0) {
    sprintTimer = 120; // hidden sprint ability
    player.speed = 4;
  }
});

document.addEventListener('keyup', e => { keys[e.key] = false; });

function update() {
  if (keys['ArrowUp']) player.y -= player.speed;
  if (keys['ArrowDown']) player.y += player.speed;
  if (keys['ArrowLeft']) player.x -= player.speed;
  if (keys['ArrowRight']) player.x += player.speed;

  player.x = Math.max(0, Math.min(380, player.x));
  player.y = Math.max(0, Math.min(380, player.y));

  const dx = player.x - enemy.x;
  const dy = player.y - enemy.y;
  const dist = Math.hypot(dx, dy);
  enemy.x += (dx / dist) * enemy.speed;
  enemy.y += (dy / dist) * enemy.speed;

  if (sprintTimer > 0) {
    sprintTimer--;
    if (sprintTimer === 0) player.speed = 2;
  }

  ctx.clearRect(0,0,400,400);
  ctx.fillStyle = player.color;
  ctx.fillRect(player.x, player.y, player.size, player.size);
  ctx.fillStyle = enemy.color;
  ctx.fillRect(enemy.x, enemy.y, enemy.size, enemy.size);

  requestAnimationFrame(update);
}
update();
</script>
</body>
</html>
